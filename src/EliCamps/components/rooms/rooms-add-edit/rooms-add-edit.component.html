<!-- Main Content area -->
<ngx-loading [show]="loading"></ngx-loading>
<mat-card class="example-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon (click)="location.back()" class="cursor"> <i class="material-icons">
          arrow_back
        </i></mat-icon>
      <h3 class="form-heading">{{isEdit ? 'UPDATE ROOM' : 'CREATE ROOM'}}</h3>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form-fields">
      <div class="row">
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input matInput formControlName="roomID" placeholder="Room ID"
              [required]="submitted && registerForm.controls['roomID'].hasError('required')">
            <mat-error *ngIf="submitted && registerForm.controls['roomID'].hasError('required')">
              *Required Field
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <mat-select placeholder="Campus" formControlName="campusID">
              <mat-option *ngFor="let res of campusList; let i = index" [value]="res.id">
                {{res.campus}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="submitted && registerForm.controls['campusID'].hasError('required')">
              *Required Field
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input matInput formControlName="building" maxlength="35" placeholder="Building"
              [required]="submitted && registerForm.controls['building'].hasError('required')">
            <mat-error *ngIf="submitted && registerForm.controls['building'].hasError('required')">
              *Required Field
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input matInput formControlName="floor" placeholder="Floor">
            <mat-error *ngIf="submitted && registerForm.controls['floor'].hasError('required')">
              *Required Field
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input formControlName="bookedFrom" matInput [matDatepicker]="picker" placeholder="Booked From">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input formControlName="bookedTo" matInput [matDatepicker]="picker1" placeholder="Booked To">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input matInput formControlName="roomType" placeholder="Room Type"
              [required]="submitted && registerForm.controls['roomType'].hasError('required')">
            <mat-error *ngIf="submitted && registerForm.controls['roomType'].hasError('required') ">
              *Required Field
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input formControlName="availableFrom" matInput [matDatepicker]="picker2" placeholder="Available From">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-md-4 form-group">
          <mat-form-field>
            <input formControlName="availableTo" matInput [matDatepicker]="picker3" placeholder="Available To">
            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
            <mat-datepicker #picker3></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-group">
          <textarea cols="50" rows="5" class="text-area" class="form-control" formControlName="notes"
            placeholder="Notes"></textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-group">
          <label class="example-radio-group-label">Available</label>
          <mat-radio-group formControlName="available" class="available-radio" aria-label="Available">
            <mat-radio-button [value]="true">Yes</mat-radio-button>
            <mat-radio-button [value]="false">No</mat-radio-button>
          </mat-radio-group>
          <mat-error *ngIf="submitted && registerForm.controls['available'].hasError('required')">
            *Required Field
          </mat-error>
        </div>
        <div class="col-md-4 form-group">
          <label></label>
          <mat-slide-toggle formControlName="active">Active
          </mat-slide-toggle>
          <mat-error *ngIf="submitted && registerForm.controls['active'].hasError('required')">
            *Required Field
          </mat-error>
        </div>
      </div>

    </form>
  </mat-card-content>
  <mat-card-actions>
    <div class="action-btns">
      <button mat-raised-button class="btn btn-primary m-left" color="primary"
        (click)="onSubmit()">{{isEdit ? 'Update' : 'Create'}}</button>
      <button mat-raised-button class="btn btn-secondary m-left" color="warn" (click)="Cancel_Click()">Cancel</button>

    </div>
  </mat-card-actions>
</mat-card>
